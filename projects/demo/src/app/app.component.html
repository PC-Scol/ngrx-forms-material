<div class="content" role="main">
  <!-- Highlight Card -->
  <div class="card highlight-card card-small">
    <svg
      id="rocket"
      xmlns="http://www.w3.org/2000/svg"
      width="101.678"
      height="101.678"
      viewBox="0 0 101.678 101.678"
    >
      <title>Rocket Ship</title>
      <g id="Group_83" data-name="Group 83" transform="translate(-141 -696)">
        <circle
          id="Ellipse_8"
          data-name="Ellipse 8"
          cx="50.839"
          cy="50.839"
          r="50.839"
          transform="translate(141 696)"
          fill="#dd0031"
        />
        <g
          id="Group_47"
          data-name="Group 47"
          transform="translate(165.185 720.185)"
        >
          <path
            id="Path_33"
            data-name="Path 33"
            d="M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z"
            transform="translate(0.371 3.363)"
            fill="#fff"
          />
          <path
            id="Path_34"
            data-name="Path 34"
            d="M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z"
            transform="translate(0 0.005)"
            fill="#fff"
          />
        </g>
      </g>
    </svg>

    <span>{{ title }} app is running!</span>
  </div>

  <h2>Form Example</h2>

  <div class="card-container">
    <form
      *ngIf="formState$ | async as formState"
      [ngrxFormState]="formState"
      novalidate
      class="vertical-form"
    >
      <h3>mat-datepicker</h3>
      <mat-form-field>
        <mat-label>Now</mat-label>
        <input
          matInput
          [ngrxFormControlState]="formState.controls.now"
          [ngrxValueConverter]="dateConverter"
          [matDatepicker]="nowDatePicker"
          name="now"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="nowDatePicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #nowDatePicker></mat-datepicker>
      </mat-form-field>

      <h3>mat-datepicker in UTC</h3>
      <mat-form-field>
        <mat-label>Birth date</mat-label>
        <input
          matInput
          [ngrxFormControlState]="formState.controls.birthDate"
          [ngrxValueConverter]="dateUtcConverter"
          [matDatepicker]="birthDatePicker"
          required
          name="birthDate"
          [min]="minDate"
          [max]="maxDate"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="birthDatePicker"
        ></mat-datepicker-toggle>
        <mat-datepicker
          #birthDatePicker
          startView="year"
          [startAt]="startDate"
        ></mat-datepicker>
        <mat-error *ngIf="formState.errors['_birthDate']?.required">
          Birth date is required
        </mat-error>
      </mat-form-field>

      <h3>mat-autocomplete</h3>
      <mat-form-field *ngIf="!!formState.controls.birthDate.value">
        <mat-label>Birth country</mat-label>
        <input
          matInput
          [ngrxFormControlState]="formState.controls.birthCountry"
          [ngrxValueConverter]="countryConverter"
          #birthCountry
          required
          name="birthCountry"
          [matAutocomplete]="autoCountry"
        />
        <mat-autocomplete
          autoActiveFirstOption
          #autoCountry="matAutocomplete"
          [displayWith]="displayCountry"
        >
          <mat-option
            *ngFor="let country of filteredCountries$() | async"
            [value]="country"
          >
            {{ country.label }}
          </mat-option>
        </mat-autocomplete>
        <mat-hint>Press a key to search a country.</mat-hint>
        <mat-error *ngIf="formState.errors['_birthCountry']?.required">
          Birth country is required
        </mat-error>
        <mat-error *ngIf="formState.errors['_birthCountry']?.noSelection">
          Birth country is not valid
        </mat-error>
      </mat-form-field>

      <h3>mat-select</h3>
      <mat-form-field *ngIf="allFruits.length > 0">
        <mat-label>Fruits</mat-label>
        <mat-select
          [ngrxFormControlState]="formState.controls.fruit"
          name="fruit"
          required
        >
          <mat-option></mat-option>
          <mat-option *ngFor="let f of allFruits" [value]="f.code">{{
            f.label
          }}</mat-option>
        </mat-select>
        <mat-hint>Choose a fruit.</mat-hint>
        <mat-error *ngIf="formState.errors['_fruit']?.required">
          Fruit is required.
        </mat-error>
      </mat-form-field>

      <h3>mat-select multiple</h3>
      <mat-form-field *ngIf="allVegetables.length > 0">
        <mat-label>Vegetables</mat-label>
        <mat-select
          name="vegetables"
          [ngrxFormControlState]="formState.controls.vegetables"
          multiple
        >
          <mat-option *ngFor="let v of allVegetables" [value]="v.code">{{
            v.label
          }}</mat-option>
        </mat-select>
        <mat-hint>Choose spme vegetables.</mat-hint>
      </mat-form-field>
    </form>
  </div>
</div>
